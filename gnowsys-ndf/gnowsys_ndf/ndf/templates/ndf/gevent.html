{% extends "ndf/gbase.html" %}
{% load i18n %}
{% load ndf_tags %}
{% block title %} {% trans "Events" %} {% endblock %}


{% block body_content %}


<!-- <script type="text/javascript">

  $(document).ready(function(){

    $('#calendar').fullCalendar({
                  // enable theme
          theme: true,
          // emphasizes business hours
          businessHours: true,
          // event dragging & resizing
          editable: true,
          // header
          header: {
            left: 'prev,next today',
            center: 'title',
            right: 'month,agendaWeek,agendaDay'
          },
          selectable: true,
          selectHelper: true,
          eventLimit: true,

          // dayClick: function() {
          //   alert('a day has been clicked!');
          // },

           //defaultView: 'timelineMonth',

          // defaultView: 'agendaDay',

      //     events: [
      //   // events go here
      //       // all day event
      //       {
      //         title  : 'Meeting',
      //         start  : '2015-11-12'
      //       },
      //   // long-term event 
      //       {
      //           title  : 'Conference',
      //           start  : '2015-11-13',
      //           end    : '2015-11-15'
      //       },
      //   // short term event 
      //         {
      //             title  : 'Dentist',
      //               start  : '2015-11-09T11:30:00',
      //               end  : '2015-11-09T012:30:00'
      //             allDay : false // will make the time show
      //         }
      //     ],
      //     resources: [
      //   // resources go here
      //     ]

       });   

    // $('#calendar').fullCalendar('next');

  });



</script> 

 -->


<!-- <meta charset='utf-8' /> -->
<link href='/static/ndf/bower_components/fullcalendar/dist/fullcalendar.css' rel='stylesheet' /> <!-- checked -->
<link href='/static/ndf/bower_components/fullcalendar/dist/fullcalendar.print.min.css' rel='stylesheet' media='print' /> <!-- checked -->
<script src='/static/ndf/bower_components/jquery/dist/jquery.min.js'></script> <!-- checked -->
<script src='/static/ndf/bower_components/jquery-ui/jquery-ui.min.js'></script> <!-- checked -->
<script src='/static/ndf/bower_components/moment/min/moment.min.js'></script> <!-- checked -->
<script src='/static/ndf/bower_components/fullcalendar/dist/fullcalendar.min.js'></script> <!-- checked -->





<style>

  body {
    margin: 0;
    padding: 0;
    font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
    font-size: 14px;
  }

  .column.small-centered {
margin-left: auto;
margin-right: auto;
float: none !important; 
} 

     .MaxHght {
        height:16px;
    }
   .fc-title
      {

        font-size: 0.9rem;
      }
    .viewMore {
        float: right;
        color: rgb(219, 104, 28);
        cursor: pointer;
    }

    #view-scheduler-calendar table {
        border: none;
        margin-bottom: 0px;
    }

    #calendar {

        width: auto;
        margin-left: auto;
        margin-right: auto;
    }
    
    .fc-header-left, .fc-header-right {
        padding-top: 1em !important;
    }


</style>


<div class="row">
<div class="small-12 medium-8 small-centered medium-centered columns">
  <div id="view-scheduler-calendar">
  <div id='calendar'></div>
  </div>
<!-- 
  <div id='script-warning'>
    <code>php/get-events.php</code> must be running.
  </div>

  <div id='loading'>loading...</div>
 -->
</div>
</div>


<script>

  $(document).ready(function() {

          var date = new Date();
          var d = date.getDate();
          var m = date.getMonth();
          var y = date.getFullYear();
    
    
    $('#calendar').fullCalendar({
          height: "auto",
          default: true,
          theme: false,
          // emphasizes business hours
          businessHours: true,
          // event dragging & resizing
          // editable: true,
          // header
          header: {
            left: 'prev,next today',
            center: 'title',
            right: 'month,agendaWeek,agendaDay,listWeek',      
          },
          // defaultDate: '2017-12-12',
          firstDay:1,
          selectable: true,
          selectHelper: true,
          timezone:'local',
          defaultView: 'month',
          // eventBackgroundColor:'#23000',
          // slotDuration:'00:15:00',
          // scrollTime:'07:00:00',
          yearCellMinH: 60,
    
          resourceAreaWidth: 230,
          aspectRatio: 1.5,

          navLinks: true, // can click day/week names to navigate views
          eventLimit: true, // allow "more" link when too many events
          // events: {
          //   url: 'php/get-events.php',
          //   error: function() {
          //   $('#script-warning').show();
          //   }
          // },

          
          // loading: function(bool) {
          //   $('#loading').toggle(bool);
          // }
          
          eventLimit: true, // for all non-agenda views
          views: {
            listDay: { buttonText: 'list day' },
            listWeek: { buttonText: 'list week' },
            listMonth: { buttonText: 'list month' }
          },

          select: function(start, end, jsEvent, view) {
              var title = prompt('Event Title:');
              var eventData;
              if (title) {
                eventData = {
                  title: title,
                  start: start,
                  end: end,
                  priority: priority,
                  //url: eventurl,
                };
              $('#calendar').fullCalendar('renderEvent', eventData, true); // stick? = true
            }
            $('#calendar').fullCalendar('unselect');
          },


          events: {{events|safe}},


          eventRender: function(event, element) {
            if (event.priority == 'Immediate') {
              element.css({
                  'background-color': '#ffc14e',
                  'border-color': '#ffc14e',
                  'border-radius': '10px',
                  'padding': '0px 0px 0px 2px',
                  'margin-right': '2px',
              });
            } else if (event.priority == 'High'){
                element.css({
                  'background-color': '#f04124',
                  'border-color': '#f04124',
                  'border-radius': '10px',
                  'padding': '0px 0px 0px 2px',
                  'margin-right': '2px',
              });
            } else {
                element.css({
                  'background-color': '#008cba',
                  'border-color': '#008cba',
                  'border-radius': '10px',
                  'padding': '0px 0px 0px 2px',
                  'margin-right': '2px',
              });
            }
            // var dateString = event.start.format("YYYY-MM-DD");
            // $(view.el[0]).find('.fc-day[data-date=' + dateString + ']').css('background-color', '#FAA732');
          },

          eventClick: function(event,jsEvent,view) {
          if (event.url) {
              window.open(event.url, "_blank");
              return false;
            }
          }


        });
        
    // will listener today click
    $('#calendar').on('click', '.fc-button',function (){
      console.log('click');
    });


      
});

</script>

  <!-- <div id='calendar'></div>
 -->

{% endblock body_content %}
