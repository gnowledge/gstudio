{% extends "ndf/base.html" %}
{% load i18n %}

{% load ndf_tags %}
{% load cache %}

{% block title %} {% trans "Welcome" %} {% endblock %}

{% block head %}

    <!-- slick-carousel -->
    <link rel="stylesheet" type="text/css" href="/static/ndf/bower_components/slick-carousel/slick/slick.css"/>
    <!-- {#%# load get_site_variables get_all_users_int_count get_all_file_int_count from ndf_tags %} -->
    <!-- Add the new slick-theme.css if you want the default styling -->
    <!-- <link rel="stylesheet" type="text/css" href="/static/ndf/bower_components/slick-carousel/slick/slick-theme.css"/> -->
    <script type="text/javascript" src="/static/ndf/bower_components/slick-carousel/slick/slick.min.js"></script>

{% endblock %}

{% block style %}

article.columns{
    padding: 0;
    min-height: auto;
}

#top-headers{
    margin-bottom: 0;
}

.workspace{
    min-height: auto;
}

#landing-slider-container{
}

.slick-slider{
    margin-bottom: 0;
}    
    
{% endblock style %}


{% block body_content %}

    {% get_site_variables as site %}
    {% get_all_users_int_count as all_users %}
    {% get_all_file_int_count as all_files %}

    {% cache 1800 welcome_slider request.LANGUAGE_CODE %} <!-- caching slider for 30 mins -->

    {% comment %}
    <article class="landing row hide">
        <section class="promo">
            <div class="banner">
                <div id="group-banner">

                    <div class="slide" style="background-color:#10a05d">
                        <!-- <i class="fi-torsos slide-back-image"></i> -->
                        <div class="row">
                            <div class="small-12 columns">
                                <h2> {% trans "An initiative of Government of India" %} </h2>
                            </div>
                        </div>
                        <br/>
                        <div class="row">
                            <div class="small-8 push-1 offset-1 columns">
                                <h3>{% trans "Offering Open Educational Resources" %}</h3>
                                <blockquote>
                                    {% trans "In all Indian Languages" %}<br><br>
                                    {% trans "Created, adapted, translated and shared" %}
                                </blockquote>
                            </div>
                            <div class="small-3 columns">
                                <div class="count-box">
                                    <span class="count"> {{all_files}}</span> {% trans "Resources" %} <br>
                                    <span class="count"> {{all_users}}</span> {% trans "Members" %} <br>
                                    <br>
                                    {# <a href="../accounts/register/" class="ui button"> #}{% trans "Let's Join NROER" %}{# </a> #}
                                </div>
                                    
                                <div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="slide" style="background-color:#0F69B4">
                        <!-- <i class="fi-lightbulb slide-back-image"></i> -->
                        <div class="medium-12 columns">
                            <div class="row">
                                <div class="medium-12 columns">
                                    <h3><i class="fi-arrows-in slide-2-icons"></i> &nbsp; {% trans "Bridging divides" %}</h3>
                                </div>
                            </div>
                            <div class="row">
                                <div class="medium-12  push-1 columns">
                                    <h3><i class="fi-annotate slide-2-icons"></i> &nbsp; {% trans "Building partnerships" %}</h3>
                                </div>
                            </div>
                            <div class="row">
                                <div class="medium-12  push-2 columns">
                                    <h3><i class="fi-results-demographics slide-2-icons"></i> &nbsp; {% trans "Nurturing networks and interest groups" %}</h3>
                                </div>
                            </div>
                            <div class="row">
                                <div class="medium-12  push-3 columns">
                                    <h3><i class="fi-magnifying-glass slide-2-icons"></i> &nbsp; {% trans "Capturing and analyzing data" %}</h3>
                                </div>
                            </div>

                        </div>

                    </div>


                    <div class="slide" style="background-color:#eb3849">
                        <!-- <i class="fi-asl slide-back-image"></i> -->
                        <div class="row">
                            <div class="small-12 columns">
                                <h2> {% trans "Connecting knowledge connecting people..." %} </h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="small-9 offset-3 columns">
                                <h3>
                                    <span class="quotes">&#8220</span>
                                        {% trans "Strengthening school and teacher education" %}
                                    <span class="quotes">&#8221</span>
                                </h3>
                            </div>
                        </div>

                    </div>


                </div>
            </div>
            <!-- end of banner -->
        </section>

    </article>
    {% endcomment %}
<!--     <div class="small-12 medium-12 large-12 columns"> -->
    <div id="landing-slider-container">
        <!-- <div>
            <img src="static/ndf/images/landing_pg_slides/Slider1.png" style="width:100%;">
        </div>
        <div>
            <img src="static/ndf/images/landing_pg_slides/Slider2.png" style="width:100%;">
        </div>
        <div>
            <img src="static/ndf/images/landing_pg_slides/Slider3.png" style="width:100%;">
        </div> -->
        <div class="slider-item">
            <img src="static/ndf/images/landing_pg_slides/photo_2018-05-07_18-03-44.jpg" style="width:100%;">
        </div>
        <div class="slider-item">
            <img src="static/ndf/images/landing_pg_slides/photo_2018-05-07_18-22-23.jpg" style="width:100%;">
        </div>
        <div class="slider-item">
            <img src="static/ndf/images/landing_pg_slides/photo_2018-05-07_18-20-38.jpg" style="width:100%;">
        </div>
        <div class="slider-item">
            <img src="static/ndf/images/landing_pg_slides/photo_2018-05-07_18-04-14.jpg" style="width:100%;">
        </div>
        <div class="slider-nav-container">
            <div class="slider-nav"></div>
        </div>    

    </div>
    <style type="text/css">
        .slider-nav-container { 
            position: absolute; 
            bottom: 130px; 
            left: 0; 
            right: 0; 
            z-index: 3; 
            text-align: center; 
            > .slider-nav { display: inline-block; 
                .slick-dots { 
                    margin: 0 10px; 
                    position: relative; 
                    top: 4px; 
                    bottom: auto; 
                    width: auto; 
                    height: 10px; 
                    display: inline-block;
                }
            }
            li { position: relative; top: -10px; button { background-color: #ffffff; } &.slick-active { button { background-color: #fcb813; } }} 
        }

        .slick-prev, .slick-next { position: relative; left: auto; background-color: #968c8c66; ;right: auto; display: inline-block; color: #ffffff; &:hover:before { color: #fcb813; } } } } 

    </style>


<!--     <div class="text-left" style="background:#444;color:#aeaeae;"> -->
     <!--  <a href="http://nroer.in" target="_blank"> Click here to visit the old site</a> -->
       <!-- <span style="color:#eaeaea; padding:3px;margin: 3px 10px 3px 0px; font-weight: bold; border-bottom-color:#5281d4;"><i class="fi-calendar size-48"></i> Recent News | </span>Latest News goes here -->
<!--     </div> -->

        
<!--     <div class="about_blog" >
        <div class="medium-10 medium-centered columns about-blog" style="margin-top: 30px;">
          <div class="row">  
            <h3 align="center" style="color: #ececec">WHO WE ARE</h3>
            <div>
                <span>
                    <p class="about_content">NROER is a collaborative platform, which brings together everyone interested in school and teacher education.Initiated by the Department of School Education and Literacy, Ministry of Human Resource Development, Government of India and managed by the Central Institute of Educational Technology, National Council of Educational Research and Training, the Repository runs on the MetaStudio platform, an initiative of the Gnowledge Labs, Homi Bhabha Centre for Science Education.</p>
                </span>
            </div>
          </div>  

            <!
            <div class="social_links" align="left">
                <a href="https://www.facebook.com/National-Council-of-Educational-Research-and-Training-NCERT-1603463793208763/"><i class="fi-social-facebook size-36" ></i></a>
                <a href="https://twitter.com/ciet_ncert"><i class="fi-social-twitter "></i></a>
            </div> -->
<!--         </div>
    </div> --> 


    <div class="analytics-blog" style="margin-top: 50px;">
        <div class="large-8 medium-9 medium-centered columns" style="background: #d8dbdc;">
          <div class="row">
            <span><h3 class="analytics" align="center">{% trans "Analytics" %}</h3></span>
                <div class="medium-3 small-8 small-centered large-uncentered columns" >
                    <div class="panel" style="background-color: #ff8080; font-size: 16px;">
                        <div align="center" class="analytics-cards">    
                            <a href="{% url 'nroer_groups' 'home' 'Groups' %}" >{% trans "Workspaces" %}</a>
                            <h4>{{groups_count}}</h4>
                        </div>    
                    </div>
                </div>    
            <!-- <div class="square" style="background-color: #80d4ff">
                 <div class="box-content">
                  <h3>TASKS</h3>
                  <h3>-</h3>
                </div>
            </div> -->

            <div class="medium-3 small-8 small-centered large-uncentered columns">
                <div class="panel" style="background-color: #ffffb3;">
                    <div align="center" class="analytics-cards">  
                        <h4>{% trans "Discussion" %}</h4>
                        <h4>{{ discussion_count }}</h4>
                    </div>    
                </div>
            </div>
            <div class="medium-3 small-8 small-centered large-uncentered columns">
                <div class="panel" style="background-color: #d5ff80;">
                    <div align="center" class="analytics-cards">  
                        <a href="{% url 'e-library' group_id %}">{% trans "eResourses" %}</a>
                        <h4>{{ files_count }}</h4>
                    </div>    
                </div>
            </div>
            <div class="medium-3 small-8 reg-users-box columns">
                <div class="panel" style="background-color: #ffaa80">
                    <div align="center" class="analytics-cards">    
                        <h4>{% trans "Registered Users" %}</h4>
                        <h4>{{authors_count}}</h4>
                    </div>    
                </div>
            </div> 
          </div>  
        </div>
    </div>


<!--     <h3 align="center" style="margin-top: 20px; color: #c35e76">Activities / Schemes</h3>
    <div class="linked-links" id="linked-links" style="margin-top: 5px;">
        <div class="medium-8 medium-centered columns" style="height: 100%;background: #c7c9c938;">
            <div class="activity-slider">
              <div class="slider slider-nav" data-slick='{"slidesToShow": 4, "slidesToScroll": 4}'>
                <div><h3>1</h3></div>
                <div><h3>2</h3></div>
                <div><h3>3</h3></div>
                <div class="center"><h3>4</h3></div>
                <div><h3>5</h3></div>

                <div><h3>6</h3></div>
                <div><h3>7</h3></div>
              </div>
            </div>
        </div>

    </div> -->


    {% endcache %}
    
    <script>

        // removing left panel:
        $("main.row > aside.columns").detach();

        // making body_content block to take 12-large columns
        $article = $("main.row > article.columns");
        $article.removeClass("medium-10").addClass("large-12");
        
        // redundantly kept to improve the speed of forming slideshow.
        // Along with that to ensure this script found it's elements. Hence forth kept in .ready() too.
        // $("#group-banner").slick({
        //     dots: true,
        //     autoplaySpeed: 7000,
        //     autoplay: true
        // });

        // $(document).ready(function(){
  
        //     try{
        //         $("#group-banner").slick({
        //             dots: true,
        //             autoplaySpeed: 7000,
        //             autoplay: true
        //         });
        //     }
        //     finally{
        //     }
	
/*
            function resize()
            {
                // alert("resize event detected!");
                // $(".slide").height($("#group-banner").height() - 50);
                if($(document).height() < $(document).width()) 
                {
                    $(".slide").height("20vh");
                }
                else
                {
                    $(".slide").height("12vw");
                }
            }

            setTimeout(function() {window.onresize = resize; resize()}, 7000);
*/
            
      // });

    $(document).ready(function(){
        $('#landing-slider-container').slick({
            // adaptiveHeight: true,
            // speed: 300,
            // fade: true,
            slide: '.slider-item',
            // dots: true,
            autoplaySpeed: 3000,
            autoplay: true,
            arrows: true,

            prevArrow:"<button type='button' class='slick-prev pull-left'><i class='fa fa-angle-left' aria-hidden='true'></i></button>",
            nextArrow:"<button type='button' class='slick-next pull-right'><i class='fa fa-angle-right' aria-hidden='true'></i></button>",
            appendArrows: '#landing-slider-container .slider-nav', appendDots: '#landing-slider-container .slider-nav' 
        });

        // $('.slider-nav').slick({
        //    // slidesToShow: 3,
        //    // slidesToScroll: 1,
        //     centerMode: true,
        //     centerPadding: '60px',
        //    arrows: false,
        //    focusOnSelect: true
        // });

    });
    </script>

{% endblock %}
