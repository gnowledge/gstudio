{% extends "ndf/base.html" %}
{% block title %} {{title}} {% endblock %}

{% block meta_content %}

<h3>About</h3>
<p class="text-justify">By <b>Quiz Item</b>, you can create a miscellaneous quiz-question. This quiz-question can be of, basically three types: <strong><i>short response, single-choice</i></strong> and <strong><i>multiple-choice</i></strong>.</p>

<p class="text-justify">By <b>Quiz</b>, you can build a quiz having list of quiz-items. Quiz-Items can be added to quiz in two ways:
  <ol  class="text-justify">
   <li>By editing, Quiz node (via collection-list).</li>
   <li>By using Quiz-Item button corresponding to the Quiz node (i.e. this will automatically add the quiz-item node to your quiz node).</li>
 </ol>
</p>

<p><h5>Number of Quiz nodes: <b>{{ quiz_nodes_count }}</b></h5></p>




{% endblock %}

{% block body_content %} 

<header class="row">
  <h2 class="medium-12 columns">Quiz

  </h2>

  <div class="medium-12 columns">
   <!-- Add button -->
   {% if user.is_authenticated %}
    <a href="{% url 'quiz_create_edit' group_name %}" class="button small">+ Add {{title}}</a>
    <a href="{% url 'quiz_item_create_edit' group_name %}" class="button small">+ Add {{title}} Item</a>
  {% endif %}
</div>
</header>

<div class="row">

  <!-- column-left for Quiz -->
  <div class="small-5 columns">

    <h5>Quiz</h5>
    {% for node in quiz_nodes %}
      {% if node.created_by == request.user.pk %}  
    <div class="row">

      <div class="small-8 columns">
       <label class="inline"><strong><a href="{% url 'quiz_details' group_name node %}">{{ node.name }}</a></strong></label>
     </div>

     {% if user.is_authenticated %}
     <div class="small-4 columns">
       <a href="{% url 'quiz_item_create_edit' group_name node %}">
         <input type="button" class="button small" style="float:right;" value="+ Add Quiz Item" />
       </a>
     </div>
     {% endif %}

   </div>
   {% else %}
    {% if node.access_policy == "PUBLIC" %}
      <div class="row">

      <div class="small-8 columns">
       <label class="inline"><strong><a href="{% url 'quiz_details' group_name node %}">{{ node.name }}</a></strong></label>
     </div>

     {% if user.is_authenticated %}
     <div class="small-4 columns">
       <a href="{% url 'quiz_item_create_edit' group_name node %}">
         <input type="button" class="button small" style="float:right;" value="+ Add Quiz Item" />
       </a>
     </div>
     {% endif %}

   </div>
    {% endif %}
    {% endif %}
   {% empty %}
   <div class="row">

    <div class="small-12 columns">
     <p>Currently <b>NO Quiz</b>!!!</p>
   </div>

 </div>
 {% endfor %}

</div>

<!-- column-right for Quiz-Items -->
<div class="small-7 columns" >

  <h5>Quiz Items</h5>
  {% for node in quiz_item_nodes %}
  <div class="row" style="padding-left:8px;">

    <div class="small-12 columns">
     <label><strong><a href="{% url 'quiz_details' group_name node %}">{{ node.html_content|safe|truncatewords:30 }}</a></strong></label>
   </div>

 </div>

 {% empty %}
 <div class="row">

  <div class="small-12 columns">
   <p>Currently <b>NO Quiz Items</b>!!!</p>
 </div>

</div>
{% endfor %}

</div>
</div>


{% endblock %}

