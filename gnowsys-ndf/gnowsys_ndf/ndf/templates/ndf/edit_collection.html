  <table cellpadding="3">
  
  <tr>
    <td>

    <h4><strong>Collection:</strong></h4>
    <!-- ################################################################################### Section (A) : Display collection-elements -->
    <div id="collection-display-div">
      {% include "ndf/display_collection.html" %}
    </div>

    <br />
  
    {% if user.is_authenticated %}
    <!-- ################################################################ Section (B) : Display drawer-widget to select/unselect nodes -->
      <div id="c_drawertable" style="display:none">

      <table style="width:370px;" >
	      <tr>
          <td style='width:160px;'>
	          <b>Pages:</b><br/>
	          <select id='c_drawer1' multiple="multiple">    <!---->
	          {% for key,value in c_drawer1.items %}
	            <option id={{key}}>{{value}}</option>
	          {% endfor %}
	          </select>
	        </td>
	  
	        <td style='width:50px;text-align:center;vertical-align:middle;'>
	          <input id='c_btnUp' type='button' value ='  ^  '><br/>
	          <input id='c_btnRight' type='button' value ='  >  '><br/>
	          <input id='c_btnLeft' type='button' value ='  <  '><br/>
		        <input id='c_btnDown' type='button' value ='  v  '><br/>
	        </td>
	  
	        <td style='width:160px;'>
	          <b>Added to Drawer: </b><br/>
	          <select id='c_drawer2' multiple="multiple">
	          {% for key,value in c_drawer2.items %}
	            <option id={{key}}>{{value}}</option>
	          {% endfor %}
	          </select>
	        </td><br>
	      </tr>
      </table>

      </div>
    
      <input id="collection-list" type="hidden" name="collection-list" value="" />
    
    {% endif %}

    </td>
  </tr>
      
  </table>

<!-- ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

<script type="text/javascript">

  $(function()
  {

    $("#c_btnRight").click(function() { 
      var selectedOpts = $("#c_drawer1 option:selected");

      if (selectedOpts.length == 0){
        alert("Nothing to move.");
        e.preventDefault();
      }

      $("#c_drawer2").append($(selectedOpts).clone());
      $(selectedOpts).remove();
      e.preventDefault();
    });   
   
    $("#c_btnUp").click(function() {
       
      $("#c_drawer1 :selected").each(function (i, selected) {
        $(this).insertBefore($(this).prev());
	      $("#c_drawer2").options.att("selected",false);
      });
      
      $("#c_drawer1 select").focus().blur();
      
      $("#c_drawer2 :selected").each(function (i, selected) {
        $(this).insertBefore($(this).prev());
	      $("#c_drawer1").options.att("selected",false);
      });
      
      $("#c_drawer2 select").focus().blur();
    });

    $("#c_btnDown").click(function() {
      $("#c_drawer1 :selected").each(function (i, selected) {
        $(this).insertAfter($(this).next());
	      $("#c_drawer2").options.att("selected",false);	
      });
      
      $("#c_drawer1 select").focus().blur();
      
      $("#c_drawer2 :selected").each(function (i, selected) {
        $(this).insertAfter($(this).next());
	      $("#c_drawer1").options.att("selected",false);
      });
      
      $("#c_drawer2 select").focus().blur();
    });
    
    $("#c_btnLeft").click(function() {
      var selectedOpts = $("#c_drawer2 option:selected");
      if (selectedOpts.length == 0) {
        alert("Nothing to move.");
        e.preventDefault();
      }

      $("#c_drawer1").append($(selectedOpts).clone());
      $(selectedOpts).remove();
      e.preventDefault();
    });  
    
  });

</script>

